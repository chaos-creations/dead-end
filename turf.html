<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><link rel="stylesheet" href="dmdoc.css"><title>/turf - Space Station 13 - Nebula13</title></head><body><header><a href="index.html">Space Station 13 - Nebula13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="turf.html#var">Var Details</a> - <a href="turf.html#proc">Proc Details</a></header><main><h1>turf <aside>/<a href="turf.html">turf</a></aside><aside> inherits /<a href="atom.html">atom</a></aside> <a href="https://github.com/NebulaSS13/Nebula/blob/a6f211015977d60b8e195d7d5e6902c2bd7e26d3/code/__defines/fluids.dm#L11"><img src="git.png" width="16" height="16" title="code/__defines/fluids.dm 11"></a></h1><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="turf.html#var/affecting_heat_sources">affecting_heat_sources</a></th><td>Used by exterior turfs to determine the warming effect of campfires and such.</td></tr><tr><th><a href="turf.html#var/affecting_lights">affecting_lights</a></th><td>List of light sources affecting this turf.</td></tr><tr><th><a href="turf.html#var/air">air</a></th><td>The cached air mixture of a turf. Never directly access, use <code>return_air()</code>.</td></tr><tr><th><a href="turf.html#var/airflow_open_directions">airflow_open_directions</a></th><td>All directions in which a turf that can contain air is present.</td></tr><tr><th><a href="turf.html#var/ambience_queued">ambience_queued</a></th><td>Whether this turf has been queued for an ambient lighting update.</td></tr><tr><th><a href="turf.html#var/ambient_has_indirect">ambient_has_indirect</a></th><td>If this is TRUE, an above turf's ambient light is affecting this turf.</td></tr><tr><th><a href="turf.html#var/ambient_light">ambient_light</a></th><td>If non-null, a hex RGB light color that should be applied to this turf.</td></tr><tr><th><a href="turf.html#var/ambient_light_multiplier">ambient_light_multiplier</a></th><td>The power of the above is multiplied by this. Setting too high may drown out normal lights on the same turf.</td></tr><tr><th><a href="turf.html#var/can_inherit_air">can_inherit_air</a></th><td>Whether this tile is willing to copy air from a previous tile through ChangeTurf, transfer_turf_properties etc.</td></tr><tr><th><a href="turf.html#var/external_atmosphere_participation">external_atmosphere_participation</a></th><td>Will participate in external atmosphere simulation if the turf is outside and no zone is set.</td></tr><tr><th><a href="turf.html#var/has_opaque_atom">has_opaque_atom</a></th><td>Not to be confused with opacity, this will be TRUE if there's any opaque atom on the tile.</td></tr><tr><th><a href="turf.html#var/initial_gas">initial_gas</a></th><td>Either a mapping of material decls to mol amounts, or a reserved initial gas define like GAS_STANDARD_AIRMIX.</td></tr><tr><th><a href="turf.html#var/lighting_overlay">lighting_overlay</a></th><td>Our lighting overlay, used to apply multiplicative lighting to the tile and its contents.</td></tr><tr><th><a href="turf.html#var/mimic_above_copy">mimic_above_copy</a></th><td>If this is a delegate (non-overwrite) Z-turf with a z-turf above, this is the delegate copy that's copying us.</td></tr><tr><th><a href="turf.html#var/mimic_proxy">mimic_proxy</a></th><td>If we're a non-overwrite z-turf, this holds the appearance of the bottom-most Z-turf in the z-stack.</td></tr><tr><th><a href="turf.html#var/mimic_underlay">mimic_underlay</a></th><td>If we're at the bottom of the stack, a proxy used to fake a below space turf.</td></tr><tr><th><a href="turf.html#var/needs_air_update">needs_air_update</a></th><td>Is this turf queued in the TURFS cycle of SSair?</td></tr><tr><th><a href="turf.html#var/shadower">shadower</a></th><td>Overlay used to multiply color of all OO overlays at once.</td></tr><tr><th><a href="turf.html#var/supporting_platform">supporting_platform</a></th><td>Floorlike structures like catwalks. Updated/retrieved by get_supporting_platform()</td></tr><tr><th><a href="turf.html#var/z_appearance">z_appearance</a></th><td>Use this appearance for our appearance instead of <code>appearance</code>. If ZM_OVERRIDE is set, <em>only</em> this will be visible, no movables will be copied.</td></tr><tr><th><a href="turf.html#var/z_eventually_space">z_eventually_space</a></th><td>If this Z-turf leads to space, uninterrupted.</td></tr><tr><th><a href="turf.html#var/z_queued">z_queued</a></th><td>How many times this turf is currently queued - multiple queue occurrences are allowed to ensure update consistency.</td></tr><tr><th><a href="turf.html#var/zone">zone</a></th><td>The turf's current zone.</td></tr><tr><th><a href="turf.html#var/zone_membership_candidate">zone_membership_candidate</a></th><td>Will participate in ZAS, join zones, etc.</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="turf.html#proc/AddTracks">AddTracks</a></th><td>Creates a new /obj/effect/decal/cleanable/blood/tracks instance of a given type,
or merges it with an existing (not-yet-cleaned) one that matches typepath and chemical.
typepath is a type, not an instance
new_chemical is optional argument for things like muddy footprints, where typepath isn't enough</td></tr><tr><th><a href="turf.html#proc/CanZPass">CanZPass</a></th><td><code>direction</code> is the direction the atom is trying to leave by.</td></tr><tr><th><a href="turf.html#proc/can_show_coating_footprints">can_show_coating_footprints</a></th><td>Contaminant may be the chemical type of the footprint being provided,
or null if we just want to know if we support footprints, at all, ever.</td></tr><tr><th><a href="turf.html#proc/cannot_build_cable">cannot_build_cable</a></th><td>*Whether we can place a cable here</td></tr><tr><th><a href="turf.html#proc/cleanup_zmimic">cleanup_zmimic</a></th><td>Cleans up Z-mimic objects for this turf. You shouldn't call this directly 99% of the time.</td></tr><tr><th><a href="turf.html#proc/disable_zmimic">disable_zmimic</a></th><td>Disables Z-mimic for a turf.</td></tr><tr><th><a href="turf.html#proc/enable_zmimic">enable_zmimic</a></th><td>Enables Z-mimic for a turf that didn't already have it enabled.</td></tr><tr><th><a href="turf.html#proc/force_update_lights">force_update_lights</a></th><td>Forces a lighting update. Reconsider lights is preferred when possible.</td></tr><tr><th><a href="turf.html#proc/get_avg_color">get_avg_color</a></th><td>Returns the average color of this tile. Roughly corresponds to the color of a single old-style lighting overlay.</td></tr><tr><th><a href="turf.html#proc/get_diggable_resources">get_diggable_resources</a></th><td>Return an assoc list of resource item type to a metadata list containing base amount, random component, and material override
ex. return list(/obj/item/stack/material/ore/handful/sand = list(&quot;amount&quot; = 3, &quot;variance&quot; = 2, &quot;material&quot; = /decl/material/foo))</td></tr><tr><th><a href="turf.html#proc/get_lumcount">get_lumcount</a></th><td>Returns a lumcount (average intensity of color channels) scaled between minlum and maxlum.</td></tr><tr><th><a href="turf.html#proc/recalc_atom_opacity">recalc_atom_opacity</a></th><td>Can't think of a good name, this proc will recalculate the has_opaque_atom variable.</td></tr><tr><th><a href="turf.html#proc/reconsider_lights">reconsider_lights</a></th><td>Causes any affecting light sources to be queued for a visibility update, for example a door got opened.</td></tr><tr><th><a href="turf.html#proc/setup_zmimic">setup_zmimic</a></th><td>Sets up Z-mimic for this turf. You shouldn't call this directly 99% of the time.</td></tr><tr><th><a href="turf.html#proc/try_build_cable">try_build_cable</a></th><td>Place a cable if possible, if not warn the user appropriately</td></tr><tr><th><a href="turf.html#proc/update_air_properties">update_air_properties</a></th><td>Turf Vars</td></tr><tr><th><a href="turf.html#proc/update_external_atmos_participation">update_external_atmos_participation</a></th><td>Updates turf participation in ZAS according to outside status and atmosphere participation bools. Must be called whenever any of those values may change.</td></tr><tr><th><a href="turf.html#proc/why_cannot_build_cable">why_cannot_build_cable</a></th><td>Sends a message to the user explaining why they can't build a cable here</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/affecting_heat_sources"><aside class="declaration">var </aside>affecting_heat_sources <aside>– /list</aside> <a href="https://github.com/NebulaSS13/Nebula/blob/a6f211015977d60b8e195d7d5e6902c2bd7e26d3/code/game/turfs/turf.dm#L76"><img src="git.png" width="16" height="16" title="code/game/turfs/turf.dm 76"></a></h3><p>Used by exterior turfs to determine the warming effect of campfires and such.</p><h3 id="var/affecting_lights"><aside class="declaration">var </aside>affecting_lights <aside>– /tmp/list/datum/light_source</aside> <a href="https://github.com/NebulaSS13/Nebula/blob/a6f211015977d60b8e195d7d5e6902c2bd7e26d3/code/modules/lighting/lighting_turf.dm#L12"><img src="git.png" width="16" height="16" title="code/modules/lighting/lighting_turf.dm 12"></a></h3><p>List of light sources affecting this turf.</p><h3 id="var/air"><aside class="declaration">var </aside>air <aside>– /<a href="datum.html">datum</a>/<a href="datum/gas_mixture.html">gas_mixture</a></aside> <a href="https://github.com/NebulaSS13/Nebula/blob/a6f211015977d60b8e195d7d5e6902c2bd7e26d3/code/game/turfs/turf.dm#L64"><img src="git.png" width="16" height="16" title="code/game/turfs/turf.dm 64"></a></h3><p>The cached air mixture of a turf. Never directly access, use <code>return_air()</code>.</p><h3 id="var/airflow_open_directions"><aside class="declaration">var </aside>airflow_open_directions <aside>– </aside> <a href="https://github.com/NebulaSS13/Nebula/blob/a6f211015977d60b8e195d7d5e6902c2bd7e26d3/code/game/turfs/turf.dm#L73"><img src="git.png" width="16" height="16" title="code/game/turfs/turf.dm 73"></a></h3><p>All directions in which a turf that can contain air is present.</p><h3 id="var/ambience_queued"><aside class="declaration">var </aside>ambience_queued <aside>– </aside> <a href="https://github.com/NebulaSS13/Nebula/blob/a6f211015977d60b8e195d7d5e6902c2bd7e26d3/code/controllers/subsystems/ambience.dm#L34"><img src="git.png" width="16" height="16" title="code/controllers/subsystems/ambience.dm 34"></a></h3><p>Whether this turf has been queued for an ambient lighting update.</p><h3 id="var/ambient_has_indirect"><aside class="declaration">var </aside>ambient_has_indirect <aside>– /tmp</aside> <a href="https://github.com/NebulaSS13/Nebula/blob/a6f211015977d60b8e195d7d5e6902c2bd7e26d3/code/modules/lighting/lighting_turf.dm#L19"><img src="git.png" width="16" height="16" title="code/modules/lighting/lighting_turf.dm 19"></a></h3><p>If this is TRUE, an above turf's ambient light is affecting this turf.</p><h3 id="var/ambient_light"><aside class="declaration">var </aside>ambient_light <aside>– </aside> <a href="https://github.com/NebulaSS13/Nebula/blob/a6f211015977d60b8e195d7d5e6902c2bd7e26d3/code/modules/lighting/lighting_turf.dm#L4"><img src="git.png" width="16" height="16" title="code/modules/lighting/lighting_turf.dm 4"></a></h3><p>If non-null, a hex RGB light color that should be applied to this turf.</p><h3 id="var/ambient_light_multiplier"><aside class="declaration">var </aside>ambient_light_multiplier <aside>– </aside> <a href="https://github.com/NebulaSS13/Nebula/blob/a6f211015977d60b8e195d7d5e6902c2bd7e26d3/code/modules/lighting/lighting_turf.dm#L6"><img src="git.png" width="16" height="16" title="code/modules/lighting/lighting_turf.dm 6"></a></h3><p>The power of the above is multiplied by this. Setting too high may drown out normal lights on the same turf.</p><h3 id="var/can_inherit_air"><aside class="declaration">var </aside>can_inherit_air <aside>– </aside> <a href="https://github.com/NebulaSS13/Nebula/blob/a6f211015977d60b8e195d7d5e6902c2bd7e26d3/code/game/turfs/turf.dm#L66"><img src="git.png" width="16" height="16" title="code/game/turfs/turf.dm 66"></a></h3><p>Whether this tile is willing to copy air from a previous tile through ChangeTurf, transfer_turf_properties etc.</p><h3 id="var/external_atmosphere_participation"><aside class="declaration">var </aside>external_atmosphere_participation <aside>– </aside> <a href="https://github.com/NebulaSS13/Nebula/blob/a6f211015977d60b8e195d7d5e6902c2bd7e26d3/code/game/turfs/turf.dm#L13"><img src="git.png" width="16" height="16" title="code/game/turfs/turf.dm 13"></a></h3><p>Will participate in external atmosphere simulation if the turf is outside and no zone is set.</p><h3 id="var/has_opaque_atom"><aside class="declaration">var </aside>has_opaque_atom <aside>– /tmp</aside> <a href="https://github.com/NebulaSS13/Nebula/blob/a6f211015977d60b8e195d7d5e6902c2bd7e26d3/code/modules/lighting/lighting_turf.dm#L17"><img src="git.png" width="16" height="16" title="code/modules/lighting/lighting_turf.dm 17"></a></h3><p>Not to be confused with opacity, this will be TRUE if there's any opaque atom on the tile.</p><h3 id="var/initial_gas"><aside class="declaration">var </aside>initial_gas <aside>– /list</aside> <a href="https://github.com/NebulaSS13/Nebula/blob/a6f211015977d60b8e195d7d5e6902c2bd7e26d3/code/game/turfs/turf.dm#L18"><img src="git.png" width="16" height="16" title="code/game/turfs/turf.dm 18"></a></h3><p>Either a mapping of material decls to mol amounts, or a reserved initial gas define like GAS_STANDARD_AIRMIX.</p><h3 id="var/lighting_overlay"><aside class="declaration">var </aside>lighting_overlay <aside>– /tmp/<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a>/lighting_overlay</aside> <a href="https://github.com/NebulaSS13/Nebula/blob/a6f211015977d60b8e195d7d5e6902c2bd7e26d3/code/modules/lighting/lighting_turf.dm#L14"><img src="git.png" width="16" height="16" title="code/modules/lighting/lighting_turf.dm 14"></a></h3><p>Our lighting overlay, used to apply multiplicative lighting to the tile and its contents.</p><h3 id="var/mimic_above_copy"><aside class="declaration">var </aside>mimic_above_copy <aside>– /tmp/<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a>/openspace/turf_mimic</aside> <a href="https://github.com/NebulaSS13/Nebula/blob/a6f211015977d60b8e195d7d5e6902c2bd7e26d3/code/modules/multiz/zmimic/mimic_turf.dm#L10"><img src="git.png" width="16" height="16" title="code/modules/multiz/zmimic/mimic_turf.dm 10"></a></h3><p>If this is a delegate (non-overwrite) Z-turf with a z-turf above, this is the delegate copy that's copying us.</p><h3 id="var/mimic_proxy"><aside class="declaration">var </aside>mimic_proxy <aside>– /tmp/<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a>/openspace/turf_proxy</aside> <a href="https://github.com/NebulaSS13/Nebula/blob/a6f211015977d60b8e195d7d5e6902c2bd7e26d3/code/modules/multiz/zmimic/mimic_turf.dm#L6"><img src="git.png" width="16" height="16" title="code/modules/multiz/zmimic/mimic_turf.dm 6"></a></h3><p>If we're a non-overwrite z-turf, this holds the appearance of the bottom-most Z-turf in the z-stack.</p><h3 id="var/mimic_underlay"><aside class="declaration">var </aside>mimic_underlay <aside>– /tmp/<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a>/openspace/turf_proxy</aside> <a href="https://github.com/NebulaSS13/Nebula/blob/a6f211015977d60b8e195d7d5e6902c2bd7e26d3/code/modules/multiz/zmimic/mimic_turf.dm#L12"><img src="git.png" width="16" height="16" title="code/modules/multiz/zmimic/mimic_turf.dm 12"></a></h3><p>If we're at the bottom of the stack, a proxy used to fake a below space turf.</p><h3 id="var/needs_air_update"><aside class="declaration">var </aside>needs_air_update <aside>– </aside> <a href="https://github.com/NebulaSS13/Nebula/blob/a6f211015977d60b8e195d7d5e6902c2bd7e26d3/code/game/turfs/turf.dm#L68"><img src="git.png" width="16" height="16" title="code/game/turfs/turf.dm 68"></a></h3><p>Is this turf queued in the TURFS cycle of SSair?</p><h3 id="var/shadower"><aside class="declaration">var </aside>shadower <aside>– /tmp/<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a>/openspace/multiplier</aside> <a href="https://github.com/NebulaSS13/Nebula/blob/a6f211015977d60b8e195d7d5e6902c2bd7e26d3/code/modules/multiz/zmimic/mimic_turf.dm#L8"><img src="git.png" width="16" height="16" title="code/modules/multiz/zmimic/mimic_turf.dm 8"></a></h3><p>Overlay used to multiply color of all OO overlays at once.</p><h3 id="var/supporting_platform"><aside class="declaration">var </aside>supporting_platform <aside>– /<a href="obj.html">obj</a>/<a href="obj/structure.html">structure</a></aside> <a href="https://github.com/NebulaSS13/Nebula/blob/a6f211015977d60b8e195d7d5e6902c2bd7e26d3/code/game/turfs/turf.dm#L92"><img src="git.png" width="16" height="16" title="code/game/turfs/turf.dm 92"></a></h3><p>Floorlike structures like catwalks. Updated/retrieved by get_supporting_platform()</p><h3 id="var/z_appearance"><aside class="declaration">var </aside>z_appearance <aside>– </aside> <a href="https://github.com/NebulaSS13/Nebula/blob/a6f211015977d60b8e195d7d5e6902c2bd7e26d3/code/modules/multiz/zmimic/mimic_turf.dm#L19"><img src="git.png" width="16" height="16" title="code/modules/multiz/zmimic/mimic_turf.dm 19"></a></h3><p>Use this appearance for our appearance instead of <code>appearance</code>. If ZM_OVERRIDE is set, <em>only</em> this will be visible, no movables will be copied.</p><h3 id="var/z_eventually_space"><aside class="declaration">var </aside>z_eventually_space <aside>– /tmp</aside> <a href="https://github.com/NebulaSS13/Nebula/blob/a6f211015977d60b8e195d7d5e6902c2bd7e26d3/code/modules/multiz/zmimic/mimic_turf.dm#L16"><img src="git.png" width="16" height="16" title="code/modules/multiz/zmimic/mimic_turf.dm 16"></a></h3><p>If this Z-turf leads to space, uninterrupted.</p><h3 id="var/z_queued"><aside class="declaration">var </aside>z_queued <aside>– /tmp</aside> <a href="https://github.com/NebulaSS13/Nebula/blob/a6f211015977d60b8e195d7d5e6902c2bd7e26d3/code/modules/multiz/zmimic/mimic_turf.dm#L14"><img src="git.png" width="16" height="16" title="code/modules/multiz/zmimic/mimic_turf.dm 14"></a></h3><p>How many times this turf is currently queued - multiple queue occurrences are allowed to ensure update consistency.</p><h3 id="var/zone"><aside class="declaration">var </aside>zone <aside>– /zone</aside> <a href="https://github.com/NebulaSS13/Nebula/blob/a6f211015977d60b8e195d7d5e6902c2bd7e26d3/code/game/turfs/turf.dm#L71"><img src="git.png" width="16" height="16" title="code/game/turfs/turf.dm 71"></a></h3><p>The turf's current zone.</p><h3 id="var/zone_membership_candidate"><aside class="declaration">var </aside>zone_membership_candidate <aside>– </aside> <a href="https://github.com/NebulaSS13/Nebula/blob/a6f211015977d60b8e195d7d5e6902c2bd7e26d3/code/game/turfs/turf.dm#L11"><img src="git.png" width="16" height="16" title="code/game/turfs/turf.dm 11"></a></h3><p>Will participate in ZAS, join zones, etc.</p><h2 id="proc">Proc Details</h2><h3 id="proc/AddTracks"><aside class="declaration">proc </aside>AddTracks<aside>(/<a href="obj.html">obj</a>/<a href="obj/effect/decal/cleanable/blood/tracks.html">effect/decal/cleanable/blood/tracks</a>/typepath, bloodDNA, comingdir, goingdir, bloodcolor, new_chemical)  <a href="https://github.com/NebulaSS13/Nebula/blob/a6f211015977d60b8e195d7d5e6902c2bd7e26d3/code/game/turfs/turf.dm#L739"><img src="git.png" width="16" height="16" title="code/game/turfs/turf.dm 739"></a></aside></h3><p>Creates a new /obj/effect/decal/cleanable/blood/tracks instance of a given type,
or merges it with an existing (not-yet-cleaned) one that matches typepath and chemical.
typepath is a type, not an instance
new_chemical is optional argument for things like muddy footprints, where typepath isn't enough</p><h3 id="proc/CanZPass"><aside class="declaration">proc </aside>CanZPass<aside>(/<a href="atom.html">atom</a>/A, direction, check_neighbor_canzpass)  <a href="https://github.com/NebulaSS13/Nebula/blob/a6f211015977d60b8e195d7d5e6902c2bd7e26d3/code/modules/multiz/turf.dm#L2"><img src="git.png" width="16" height="16" title="code/modules/multiz/turf.dm 2"></a></aside></h3><p><code>direction</code> is the direction the atom is trying to leave by.</p><h3 id="proc/can_show_coating_footprints"><aside class="declaration">proc </aside>can_show_coating_footprints<aside>(/<a href="decl.html">decl</a>/<a href="decl/material.html">material</a>/contaminant)  <a href="https://github.com/NebulaSS13/Nebula/blob/a6f211015977d60b8e195d7d5e6902c2bd7e26d3/code/game/turfs/turf.dm#L864"><img src="git.png" width="16" height="16" title="code/game/turfs/turf.dm 864"></a></aside></h3><p>Contaminant may be the chemical type of the footprint being provided,
or null if we just want to know if we support footprints, at all, ever.</p><h3 id="proc/cannot_build_cable"><aside class="declaration">proc </aside>cannot_build_cable<aside>()  <a href="https://github.com/NebulaSS13/Nebula/blob/a6f211015977d60b8e195d7d5e6902c2bd7e26d3/code/game/turfs/turf.dm#L659"><img src="git.png" width="16" height="16" title="code/game/turfs/turf.dm 659"></a></aside></h3><p>*Whether we can place a cable here</p>
<ul>
<li>If you cannot build a cable will return an error code explaining why you cannot.</li>
</ul><h3 id="proc/cleanup_zmimic"><aside class="declaration">proc </aside>cleanup_zmimic<aside>()  <a href="https://github.com/NebulaSS13/Nebula/blob/a6f211015977d60b8e195d7d5e6902c2bd7e26d3/code/modules/multiz/zmimic/mimic_turf.dm#L70"><img src="git.png" width="16" height="16" title="code/modules/multiz/zmimic/mimic_turf.dm 70"></a></aside></h3><p>Cleans up Z-mimic objects for this turf. You shouldn't call this directly 99% of the time.</p><h3 id="proc/disable_zmimic"><aside class="declaration">proc </aside>disable_zmimic<aside>()  <a href="https://github.com/NebulaSS13/Nebula/blob/a6f211015977d60b8e195d7d5e6902c2bd7e26d3/code/modules/multiz/zmimic/mimic_turf.dm#L45"><img src="git.png" width="16" height="16" title="code/modules/multiz/zmimic/mimic_turf.dm 45"></a></aside></h3><p>Disables Z-mimic for a turf.</p><h3 id="proc/enable_zmimic"><aside class="declaration">proc </aside>enable_zmimic<aside>(additional_flags)  <a href="https://github.com/NebulaSS13/Nebula/blob/a6f211015977d60b8e195d7d5e6902c2bd7e26d3/code/modules/multiz/zmimic/mimic_turf.dm#L36"><img src="git.png" width="16" height="16" title="code/modules/multiz/zmimic/mimic_turf.dm 36"></a></aside></h3><p>Enables Z-mimic for a turf that didn't already have it enabled.</p><h3 id="proc/force_update_lights"><aside class="declaration">proc </aside>force_update_lights<aside>()  <a href="https://github.com/NebulaSS13/Nebula/blob/a6f211015977d60b8e195d7d5e6902c2bd7e26d3/code/modules/lighting/lighting_turf.dm#L99"><img src="git.png" width="16" height="16" title="code/modules/lighting/lighting_turf.dm 99"></a></aside></h3><p>Forces a lighting update. Reconsider lights is preferred when possible.</p><h3 id="proc/get_avg_color"><aside class="declaration">proc </aside>get_avg_color<aside>()  <a href="https://github.com/NebulaSS13/Nebula/blob/a6f211015977d60b8e195d7d5e6902c2bd7e26d3/code/modules/lighting/lighting_turf.dm#L136"><img src="git.png" width="16" height="16" title="code/modules/lighting/lighting_turf.dm 136"></a></aside></h3><p>Returns the average color of this tile. Roughly corresponds to the color of a single old-style lighting overlay.</p><h3 id="proc/get_diggable_resources"><aside class="declaration">proc </aside>get_diggable_resources<aside>()  <a href="https://github.com/NebulaSS13/Nebula/blob/a6f211015977d60b8e195d7d5e6902c2bd7e26d3/code/game/turfs/turf_digging.dm#L3"><img src="git.png" width="16" height="16" title="code/game/turfs/turf_digging.dm 3"></a></aside></h3><p>Return an assoc list of resource item type to a metadata list containing base amount, random component, and material override
ex. return list(/obj/item/stack/material/ore/handful/sand = list(&quot;amount&quot; = 3, &quot;variance&quot; = 2, &quot;material&quot; = /decl/material/foo))</p><h3 id="proc/get_lumcount"><aside class="declaration">proc </aside>get_lumcount<aside>(minlum, maxlum)  <a href="https://github.com/NebulaSS13/Nebula/blob/a6f211015977d60b8e195d7d5e6902c2bd7e26d3/code/modules/lighting/lighting_turf.dm#L158"><img src="git.png" width="16" height="16" title="code/modules/lighting/lighting_turf.dm 158"></a></aside></h3><p>Returns a lumcount (average intensity of color channels) scaled between minlum and maxlum.</p><h3 id="proc/recalc_atom_opacity"><aside class="declaration">proc </aside>recalc_atom_opacity<aside>()  <a href="https://github.com/NebulaSS13/Nebula/blob/a6f211015977d60b8e195d7d5e6902c2bd7e26d3/code/modules/lighting/lighting_turf.dm#L175"><img src="git.png" width="16" height="16" title="code/modules/lighting/lighting_turf.dm 175"></a></aside></h3><p>Can't think of a good name, this proc will recalculate the has_opaque_atom variable.</p><h3 id="proc/reconsider_lights"><aside class="declaration">proc </aside>reconsider_lights<aside>()  <a href="https://github.com/NebulaSS13/Nebula/blob/a6f211015977d60b8e195d7d5e6902c2bd7e26d3/code/modules/lighting/lighting_turf.dm#L92"><img src="git.png" width="16" height="16" title="code/modules/lighting/lighting_turf.dm 92"></a></aside></h3><p>Causes any affecting light sources to be queued for a visibility update, for example a door got opened.</p><h3 id="proc/setup_zmimic"><aside class="declaration">proc </aside>setup_zmimic<aside>(mapload)  <a href="https://github.com/NebulaSS13/Nebula/blob/a6f211015977d60b8e195d7d5e6902c2bd7e26d3/code/modules/multiz/zmimic/mimic_turf.dm#L54"><img src="git.png" width="16" height="16" title="code/modules/multiz/zmimic/mimic_turf.dm 54"></a></aside></h3><p>Sets up Z-mimic for this turf. You shouldn't call this directly 99% of the time.</p><h3 id="proc/try_build_cable"><aside class="declaration">proc </aside>try_build_cable<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/stack.html">stack</a>/<a href="obj/item/stack/cable_coil.html">cable_coil</a>/C, /<a href="mob.html">mob</a>/user)  <a href="https://github.com/NebulaSS13/Nebula/blob/a6f211015977d60b8e195d7d5e6902c2bd7e26d3/code/game/turfs/turf.dm#L667"><img src="git.png" width="16" height="16" title="code/game/turfs/turf.dm 667"></a></aside></h3><p>Place a cable if possible, if not warn the user appropriately</p><h3 id="proc/update_air_properties"><aside class="declaration">proc </aside>update_air_properties<aside>()  <a href="https://github.com/NebulaSS13/Nebula/blob/a6f211015977d60b8e195d7d5e6902c2bd7e26d3/code/modules/ZAS/Turf.dm#L7"><img src="git.png" width="16" height="16" title="code/modules/ZAS/Turf.dm 7"></a></aside></h3><p>Turf Vars</p><h3 id="proc/update_external_atmos_participation"><aside class="declaration">proc </aside>update_external_atmos_participation<aside>()  <a href="https://github.com/NebulaSS13/Nebula/blob/a6f211015977d60b8e195d7d5e6902c2bd7e26d3/code/game/turfs/turf.dm#L538"><img src="git.png" width="16" height="16" title="code/game/turfs/turf.dm 538"></a></aside></h3><p>Updates turf participation in ZAS according to outside status and atmosphere participation bools. Must be called whenever any of those values may change.</p><h3 id="proc/why_cannot_build_cable"><aside class="declaration">proc </aside>why_cannot_build_cable<aside>(/<a href="mob.html">mob</a>/user, cable_error)  <a href="https://github.com/NebulaSS13/Nebula/blob/a6f211015977d60b8e195d7d5e6902c2bd7e26d3/code/game/turfs/turf.dm#L663"><img src="git.png" width="16" height="16" title="code/game/turfs/turf.dm 663"></a></aside></h3><p>Sends a message to the user explaining why they can't build a cable here</p></main><footer>nebula.dme <a href="https://github.com/NebulaSS13/Nebula/tree/a6f211015977d60b8e195d7d5e6902c2bd7e26d3">a6f2110</a> (dev) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.9.0</a></footer></body></html>